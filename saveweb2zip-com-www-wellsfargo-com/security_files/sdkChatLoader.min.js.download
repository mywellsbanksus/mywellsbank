var __webpack_exports__={};(function(){function log(message){if(typeof console!="undefined"&&console.log)console.log(message)}function secureProtocol(url){return url.replace(/^HTTPS?:/i,"https:")}v3Lander.isWebSDK=true;v3Lander.v3Frame=false;v3Lander.domReady=false;v3Lander.domState="defer-failed";v3Lander.buDataCallbackFcn=null;v3Lander.inqSiteDataFun=null;v3Lander.inqRulesEngineFun=null;v3Lander.mbusToLoad=[];v3Lander.page=null;v3Lander.cgIDs=null;v3Lander.loadedMbuRuleDataFuns=[];v3Lander.jsonAPIData=null;v3Lander.jsonMbuData=null;v3Lander.reInitChatData=null;v3Lander.initV3Frame=function initV3Frame(){if(window.opener)window.clientwin=FrameBridge.o1p();else window.clientwin=window;window.inqFrame=window;window.name=opener?"_inqPersistentChat":"inqV3";if(this.isBupMode||this.isRplMode)this.requestPage();else insertLandingTag()};v3Lander.reload=function reload(){this.domReady=false;setTimeout(_reload.bind(this),50)};function _reload(){window.inqFrame=null;window.Inq=void 0;this.start()}v3Lander.loadScript=function loadScript(name,useMediaServer,async,useResolvePageWSDomain){var bdy=document.getElementsByTagName("BODY");if(bdy&&bdy[0]){var srctag=document.createElement("SC"+"RIPT");if(useMediaServer)srctag.src=secureProtocol(v3Lander.mediaServer||v3Lander.vanityDomain)+name;else if(useResolvePageWSDomain)srctag.src=secureProtocol(v3Lander.resolvePageWSDomain)+name;else srctag.src=secureProtocol(v3Lander.vanityDomain)+name;srctag.async=async!==false;srctag.type="text/javascript";srctag.charset="utf-8";srctag.language="javascript";bdy[0].appendChild(srctag)}};v3Lander.requestPage=function requestPage(){this.resolvePage()};v3Lander.getPage=function getPage(){return this.page};v3Lander.getContentGroupIDs=function getContentGroupIDs(){return this.cgIDs};v3Lander.resolvePage=function resolvePage(){var urlPath="/launch/resolvePage?siteID="+this.siteID+"&url="+encodeURIComponent(window.pageURL)+"&codeVersion="+encodeURIComponent(this.codeVersion);if(!this.useResolvePageWSDomain)urlPath="/tagserver"+urlPath;var overriddenPageId=null;if(window.inqSiteID)overriddenPageId=window.inqSiteID;if(overriddenPageId)urlPath+="&overridePageId="+encodeURIComponent(overriddenPageId);this.loadScript(urlPath,false,true,this.useResolvePageWSDomain)};v3Lander.applyPage=function applyPage(data){var contains=function(a,obj){for(var i=0;i<a.length;i++)if(a[i]===obj)return true;return false};var prepareMbusList=function(bUnits){var mbusToLoad=[];for(var i=0;i<bUnits.length;i++)if(!contains(mbusToLoad,bUnits[i]))mbusToLoad.push(bUnits[i]);return mbusToLoad};if(this.isBupMode&&data.bUnits)this.mbusToLoad=prepareMbusList(data.bUnits);if(this.isRplMode&&data.page)this.page=data.page;if(this.isRplMode&&data.cgIDs)this.cgIDs=data.cgIDs;if(this.reInitChatData){window.Inq.reinitChatV3Callback(this.reInitChatData.pageID,this.reInitChatData.data);this.reInitChatData=null}else insertLandingTag()};v3Lander.initSiteDefaultData=function initSiteDefaultData(siteData,rulesEngineData,landingData){v3Lander.landingData=landingData;v3Lander.inqSiteDataFun=siteData;v3Lander.inqRulesEngineFun=rulesEngineData;if(!v3Lander.isBupMode||v3Lander.mbusToLoad.length===0)loadTcFramework();else loadMbuData()};function loadTcFramework(){v3Lander.loadScript(generatePath(v3Lander.tcFrameworkName),true)}function generatePath(filename){return"/media/launch/"+filename+"?codeVersion="+encodeURIComponent(v3Lander.codeVersion)}function loadMbuData(){if(v3Lander.isJSSDK){var xhr=new XMLHttpRequest;var mbuID;xhr.onreadystatechange=function(){if(xhr.readyState==4)if(xhr.status==200){var jsonMbuData=JSON.parse(xhr.responseText);v3Lander.jsonMbuData=jsonMbuData;for(var i=0;i<v3Lander.mbusToLoad.length;i++){mbuID=v3Lander.mbusToLoad[i];var mbuRuleData={rules:JSSDK_RENDERER.RenderRules(jsonMbuData[mbuID.toString()])};v3Lander.applyMbuRuleData(mbuRuleData)}}else if(xhr.status==0)console.error("Get MBU Data fail with network issue. Status : "+xhr.status);else console.error("Get MBU Data fail with status : "+xhr.status)};var buIds="";for(var i=0;i<v3Lander.mbusToLoad.length;i++){mbuID=v3Lander.mbusToLoad[i];buIds+=mbuID.toString()+";"}var serverUrl=v3Lander.vanityDomain+"/tagserver/v1/jssdkApi/all?siteID="+v3Lander.siteID+"&buIds="+buIds;xhr.open("GET",serverUrl,true);xhr.send()}else for(var i=0;i<v3Lander.mbusToLoad.length;i++)v3Lander.loadMbuDataForBU(v3Lander.mbusToLoad[i])}v3Lander.loadMbuDataForBU=function loadMbuDataForBU(buID,callback){if(!!callback)this.buDataCallbackFcn=callback;this.loadScript("/chatskins/launch/site_"+this.siteID+"_bu_"+buID+".js?codeVersion="+encodeURIComponent(this.codeVersion),false)};v3Lander.applyMbuRuleData=function applyMbuRuleData(mbuRuleData){if(this.buDataCallbackFcn){this.buDataCallbackFcn(mbuRuleData);this.buDataCallbackFcn=null}else{v3Lander.loadedMbuRuleDataFuns[v3Lander.loadedMbuRuleDataFuns.length]=mbuRuleData;if(v3Lander.loadedMbuRuleDataFuns.length===v3Lander.mbusToLoad.length)loadTcFramework()}};function insertLandingTag(){if(v3Lander.isJSSDK){var helperPath="";if(v3Lander.noJSHosting&&window.cWinLanderConfig&&window.cWinLanderConfig.env)helperPath="/"+window.cWinLanderConfig.env;helperPath+=generatePath("site_"+v3Lander.siteID+"_default_helper.js");var defaultJSSDKPath=generatePath("site_"+v3Lander.siteID+"_default_jssdk.js");var async=false;v3Lander.loadScript(helperPath,true,async);v3Lander.loadScript(defaultJSSDKPath,true,async)}else v3Lander.loadScript(generatePath("site_"+v3Lander.siteID+"_default.js"),true)}v3Lander.setDomReadyTimeout=function setDomReadyTimeout(t){setTimeout((function(){v3Lander.onDomReady()}),t||0)};v3Lander.onDomReady=function onDomReady(){if(this.domReady)return;this.domReady=true;this.initV3Frame()};v3Lander.testReady=function testReady(){var WAIT_PERIOD=100;var skipDomReadyTest=v3Lander.skipDomReadyTest;if(typeof jQuery!="undefined"&&jQuery.isReady)v3Lander.setDomReadyTimeout(1);else if(skipDomReadyTest&&!v3Lander.v3Frame)v3Lander.setDomReadyTimeout(1);else if(typeof document.readyState=="undefined"){if(document.addEventListener){document.addEventListener("load",v3Lander.setDomReadyTimeout,false);document.addEventListener("DOMContentLoaded",v3Lander.setDomReadyTimeout,false)}v3Lander.setDomReadyTimeout(WAIT_PERIOD)}else{var tridentVersion=navigator.userAgent.match(/Trident\/(\d+)/);var newIeVersion=tridentVersion&&tridentVersion.length==2&&parseInt(tridentVersion[1])>=6;if(document.readyState=="complete"&&newIeVersion)v3Lander.setDomReadyTimeout();else if(document.addEventListener||newIeVersion&&document.attachEvent)if(/loaded|complete/.test(document.readyState))v3Lander.setDomReadyTimeout();else setTimeout(arguments.callee,100)}};if(v3Lander.isExitChat)v3Lander.addListenersForTcBBFrame=function(){if(window.addEventListener)window.addEventListener("load",placeTcBBFrame_pre,true);else if(window.attachEvent)window.attachEvent("onload",placeTcBBFrame_pre);else placeTcBBFrame_pre();function placeTcBBFrame_pre(){setTimeout((function(){v3Lander._placeTcBBFrame()}),100)}};v3Lander.start=function start(){if(v3Lander.isExitChat)this.prepBBDetect();this.testReady()};v3Lander.start()})();