var debtCon={getActiveRowCount:function(){return $(".active-row").length;},getiOSversion:function(){var version=(navigator.appVersion).match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(version[1],10),parseInt(version[2],10),parseInt(version[3]||0,10)];}};$(document).ready(function(){if($("#debtRow3 input:text").hasClass("inputError")||$("#debtRow3 input:text").val()!=""){$("#debtRow3").before("<hr class=visible-xs>");$("#debtRow3").removeClass("inactive-row").addClass("active-row");$("#removeDebt a").removeClass("disabled").addClass("enabled");$("#removeDebt a").removeAttr("aria-disabled");}if($("#debtRow4 input:text").hasClass("inputError")||$("#debtRow4 input:text").val()!=""){$("#debtRow3").before("<hr class=visible-xs>");$("#debtRow3").removeClass("inactive-row").addClass("active-row");$("#debtRow4").before("<hr class=visible-xs>");$("#debtRow4").removeClass("inactive-row").addClass("active-row");$("#addDebt a").addClass("disabled").removeClass("enabled");$("#addDebt a").attr("aria-disabled","true");$("#removeDebt a").removeClass("disabled").addClass("enabled");$("#removeDebt a").removeAttr("aria-disabled");}if(debtCon.getActiveRowCount()==4){$("#addDebt").hide();}if($(".pageError")){$(".pageError").attr("aria-live","polite");$(".pageError").attr("tabindex","0");}$("#addDebt").on("click",function(event){event.preventDefault();var rowIndex=debtCon.getActiveRowCount();rowIndex=rowIndex+1;$(".addremove-links").find(".liveregion").text("Debt "+rowIndex+" was added above");$("#debtRow"+rowIndex).addClass("active-row");$("#debtRow"+rowIndex).before("<hr class=visible-xs>");$("#debtRow"+rowIndex+" input:text").val("");$("#debtRow"+rowIndex).removeClass("inactive-row");$("#removeDebt a").removeClass("disabled").addClass("enabled").attr("tabIndex",0);$("#removeDebt a").removeAttr("aria-disabled");if(debtCon.getActiveRowCount()==4){$("#addDebt").hide();}$("#debtRow"+rowIndex+" input:text:eq(0)").focus();});$("#removeDebt").on("click",function(event){event.preventDefault();var rowIndex=debtCon.getActiveRowCount();$(".addremove-links").find(".liveregion").text("Debt "+rowIndex+" was removed");if(rowIndex>2){$("#debtRow"+rowIndex).addClass("inactive-row").removeClass("active-row");$("#debtRow"+rowIndex).prev("hr").remove();$("#debtRow"+rowIndex+" input:text").val("");$("#debtRow"+rowIndex+" span.placeHolder").empty();$("#debtRow"+rowIndex+" input:text").removeClass("inputError");$("#addDebt a").removeClass("disabled").addClass("enabled");$("#addDebt a").removeAttr("aria-disabled");rowIndex=rowIndex-1;$("#debtRow"+rowIndex+" input:text:eq(0)").focus();}if(debtCon.getActiveRowCount()==3){$("#addDebt").show();}if(debtCon.getActiveRowCount()==2){$("#addDebt").show();$("#removeDebt a").removeClass("enabled").addClass("disabled").attr("tabIndex",-1);$("#removeDebt a").attr("aria-disabled","true");}if(/iP(hone|od|ad)/.test(navigator.platform)){var receivedVersion=debtCon.getiOSversion();if(receivedVersion[0]>=8){window.scrollTo(0,0);document.body.scrollTop=$("#debtRow"+rowIndex+" input:text:eq(0)").offset().top;document.body.scrollLeft="20px";}}});$(".flex-grow1 .c7").click(function(){var applyHref=this.href;fireC2TCompletionAndConsiderationEvent("PLDC","PLL Apply Now","BUTTON",function(){window.location.href=applyHref;});});function fireC2TCompletionAndConsiderationEvent(applicationCode,clickName,clickType,callback){var stdOptions={"log":1,"url":window.location.href,"applicationCode":applicationCode,"eventsOrder":[{"CompletionCreator":"1"},{"ConsiderationCreator":"2"},{"ClickCreator":"3"}],"eventStructure[CompletionCreator]":applicationCode+"_Completion","eventStructure[ConsiderationCreator]":applicationCode+"_Consideration","eventStructure[ClickCreator]":applicationCode+"_"+clickType+"_Click","headerStructure[HeaderCreator]":"header_"+applicationCode,"data[clickType]":clickType,"data[clickItemName]":clickName};WF.Utils.logC2TtoolEventCallback(stdOptions).done(callback);}$("#debtresult").find(".charts map").each(function(){$(this).attr("aria-hidden","true");});$("#debtresult").find(".charts area").each(function(){$(this).attr("tabindex","-1");$(this).attr("aria-hidden","true");});$("#debtresult").find(".charts img").attr("alt","");if($("#estimatedInterest").length>0&&$("#estimatedTime").length>0){var url="/as/debt-consolidation/chartdata";$.ajax({"url":url,"type":"GET","dataType":"json","success":function(chartData){try{if(chartData!=undefined&&chartData!=null){if(chartData[0].wfchart==1){var options={chart:{type:chartData[0].type,height:"127",width:Utility.getDeviceWidth(),},title:{text:chartData[0].title,},colors:{colors:["#45464A","#CE4C00"],},datalabel:{enabled:true,crop:false,overflow:"none",}};wfCustomHighChart("estimatedInterest",chartData[0],options);wfChartAria("#estimatedInterest",chartData[0]);}if(chartData[1].wfchart==2){var options={chart:{type:chartData[1].type,height:"127",width:Utility.getDeviceWidth(),},title:{text:chartData[1].title,},colors:{colors:["#45464A","#CE4C00"],},datalabel:{enabled:true,crop:false,overflow:"none",}};wfCustomHighChart("estimatedTime",chartData[1],options);wfChartAria("#estimatedTime",chartData[1]);}}}catch(err){Utility.ajaxLog(err);}},"error":function(xhr,code,status){Utility.ajaxLog({"message":"AJAX request to "+url+" failed with: "+code+" "+xhr.status+" "+xhr.statusText});}});}$(".sideUtility a").click(function(){WF.Utils.fireC2TShareWidgetEvent("PLDC",this);});setTimeout(function(){var pageErrors=document.querySelectorAll(".pageError");if(pageErrors!=null&&pageErrors.length>0){var pageError=pageErrors[0];pageError.tabIndex="-1";pageError.focus();}},100);});function wfChartAria(chartid,chartsdata){$(chartid).find("svg").each(function(){$(this).attr("tabindex","-1");$(this).attr("aria-hidden","true");$(this).attr("focusable","false");});$(".highcharts-background").attr("fill","none");$(".flex-grow2 p").first().before(highchartAria(chartsdata));}function highchartAria(wfchart){var templateAria;if(wfchart.dataPrefix&&wfchart.dataPrefix!=""){templateAria="<div class='visuallyHidden'><h3>"+wfchart.title+"</h3><ul><li>"+wfchart.seriesDataList[0].name+": "+wfchart.dataPrefix+Utility.numberFormat(wfchart.seriesDataList[0].data[0],0,"",",")+"</li><li>"+wfchart.seriesDataList[1].name+": "+wfchart.dataPrefix+Utility.numberFormat(wfchart.seriesDataList[1].data[0],0,"",",")+"</li></ul></div>";}else{if(wfchart.dataSuffix&&wfchart.dataSuffix!=""){templateAria="<div class='visuallyHidden'><h3>"+wfchart.title+"</h3><ul><li>"+wfchart.seriesDataList[0].name+": "+Utility.numberFormat(wfchart.seriesDataList[0].data[0],1)+wfchart.dataSuffix+"</li><li>"+wfchart.seriesDataList[1].name+": "+Utility.numberFormat(wfchart.seriesDataList[1].data[0],1)+wfchart.dataSuffix+"</li></ul></div>";}}return templateAria;}function Utility(){}Utility.getWindowWidth=function(){if(document.documentElement&&document.documentElement.clientWidth){return document.documentElement.clientWidth;}else{if(document.body&&document.body.clientWidth){return document.body.clientWidth;}}};Utility.getDeviceWidth=function(){var isMobile=window.matchMedia("only screen and (max-width: 760px)").matches;var screenWidth;if(isMobile){return screenWidth=Utility.getWindowWidth();}else{return screenWidth="370";}};Utility.numberFormat=function(val,pos0,pos1,pos2){return Highcharts.numberFormat(val,pos0,pos1,pos2);};Utility.ajaxLog=function(err){var query={"message":err.message,"url":window.location.href,"logType":"FATAL","detailedMessage":{}};if(err.fileName){query.jsFileUrl=err.fileName;}else{if(err.sourceURL){query.jsFileUrl=err.sourceURL;}}if(err.stack){var stack=Utility.parseErrorStack(err.stack);query.detailedMessage=JSON.stringify(stack);if(stack[0]){if(stack[0].name){query.errorFunctionName=stack[0].name;}if(stack[0].line){query.errorLineNumber=stack[0].line;}if(!query.jsFileUrl){query.jsFileUrl=stack[0].url;}if(stack[0].args){query.additionalInfo="arguments: "+stack[0].args;}}if(stack[1]&&stack[1].name){query.callingFunctionName=stack[1].name;}}else{query.detailedMessage=JSON.stringify(arguments);
}if(err.line){query.errorLineNumber=err.line;}if($.isEmptyObject(query.detailedMessage)||query.detailedMessage==="{}"){query.detailedMessage="Detailed message is empty at this time";}$.ajax({type:"POST",data:JSON.stringify(query),url:"/as/jsLog",contentType:"application/json"});};Utility.parseErrorStack=function(stack,errName){var isChrome=(stack.search(/\n +at/)!=-1);stack=stack.replace(/(\d+):\d+\)\n/g,"$1\n");var lines=stack.split(/\n(?: +at )?/);if(isChrome){lines.shift();}var ret=[];for(var i=0;i<lines.length;i++){var item={};if(isChrome){var funcname=lines[i].split(/ /).shift();}else{var funcname=lines[i].split(/\@/).shift();}var match=funcname.match(/\((.*)\)$/);if(match){item.args=match[1];funcname=funcname.substr(0,funcname.indexOf("("));}item.name=funcname;item.line=lines[i].split(/:/).pop();lines[i]=lines[i].replace(/:\d+$/,"");item.url=lines[i].split(/[\(@]/).pop();ret.push(item);}return ret;};