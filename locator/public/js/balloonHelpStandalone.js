var WF={};$.each("address|article|aside|audio|canvas|command|datalist|details|dialog|figure|figcaption|footer|header|hgroup|keygen|mark|meter|menu|nav|progress|ruby|section|time".split("|"),function(idx,val){document.createElement(val);});$("html").removeClass("no-js");if($("html").attr("class")==""){$("html").removeAttr("class");}var assetsBasePath=(typeof akamaiImageHostUrl!=="undefined")?akamaiImageHostUrl:"https://www17.wellsfargomedia.com";WF.Browser={};WF.Component={};WF.Strings={"Components":{"BalloonHelp":{"beginningOfPopup":{"en":"Beginning of popup","es":"Comienzo de ventana emergente"},"endOfPopup":{"en":"End of popup","es":"Fin de ventana emergente"}}},"Shared":{"beginningOfPopup":{"en":"Beginning of popup","es":"Comienzo de ventana emergente"},"cancel":{"en":"Cancel","es":"Cancele"},"close":{"en":"Close","es":"Cierre"},"continue":{"en":"Continue","es":"Contin&uacute;e"},"endOfPopup":{"en":"End of popup","es":"Fin de ventana emergente"},"item":{"en":"item","es":"&iacute;tem"},"next":{"en":"Next","es":"Siguiente"},"popupBlocker":{"en":"You may have a popup blocker preventing this window from opening.","es":"Un bloqueador de ventana emergente puede estar evitando que se abra esta ventana."},"prev":{"en":"Previous","es":"Anterior"},"print":{"en":"Print","es":"Imprima"},"WFHomePage":{"en":"Wells Fargo home page","es":"P&aacute;gina principal de Wells Fargo"}}};WF.Utils={ajaxLog:function(err){var url="/as/jsLog";var query={"message":err.message,"url":window.location.href,"logType":"FATAL","detailedMessage":{}};var detailedMessage={};if(err.fileName){detailedMessage.jsFileUrl=err.fileName;}else{if(err.sourceURL){detailedMessage.jsFileUrl=err.sourceURL;}}if(err.stack){var stack=WF.Utils.parseErrorStack(err.stack);if(stack[0]){if(stack[0].name){detailedMessage.errorFunctionName=stack[0].name;}if(stack[0].line){detailedMessage.errorLineNumber=stack[0].line;}if(!query.jsFileUrl){detailedMessage.jsFileUrl=stack[0].url;}if(stack[0].args){detailedMessage.additionalInfo="arguments: "+stack[0].args;}}if(stack[1]&&stack[1].name){detailedMessage.callingFunctionName=stack[1].name;}}else{if(arguments.callee.caller){detailedMessage.errorFunctionName=WF.Utils.getNameFromCallee(arguments.callee.caller);if(arguments.callee.caller.caller){detailedMessage.callingFunctionName=WF.Utils.getNameFromCallee(arguments.callee.caller.caller);}}else{detailedMessage=JSON.stringify(arguments);}}if(err.line){detailedMessage.errorLineNumber=err.line;}query.detailedMessage=JSON.stringify(detailedMessage);if($.isEmptyObject(detailedMessage)||query.detailedMessage==="{}"){query.detailedMessage="Detailed message is empty at this time";}$.ajax({type:"POST",data:JSON.stringify(query),url:url,contentType:"application/json"});},generateUniqueId:function(elem){var id="";while(elem.tagName!="BODY"){id=($(elem).prevAll().length+1)+"_"+id;if(!elem.parentNode){var arr="0123456789abcdef".split("");for(var i=0;i<16;i++){id+=arr[Math.floor(Math.random()*arr.length)];}break;}elem=elem.parentNode;}return"NID"+id.substr(0,id.length-1);},getBrowserSupport:function(){ret={};var input=$('<input id="WFtemp" />').get(0);ret.placeholder=("placeholder" in input);$("#WFtemp").remove();ret.tel=false;var userAgent=navigator.userAgent;var mobileStrings=["iPhone","Android","BlackBerry","Mobile"];$.each(mobileStrings,function(idx,val){if(new RegExp(val,"i").test(userAgent)){ret.tel=true;return true;}});ret.touch=!!("ontouchstart" in window);ret.IE7mode=false;if($("html").hasClass("ie7")){ret.IE7mode=true;}if(document.documentMode!=undefined&&document.documentMode<8){ret.IE7mode=true;}ret.isIE=(userAgent.indexOf("MSIE")!=-1);return ret;},getClist:function(elem){if(elem.tagName.toUpperCase()=="BODY"){return"";}var clist=$(elem).data("cid")+"~"+$(elem).data("ctid");if(clist.search("undef")!=-1){return WF.Utils.getClist(elem.parentNode);}return clist;},getDimensions:function(elem){return{"width":$(elem).width(),"height":$(elem).height()};},getNameFromCallee:function(callee){var hope=callee.toString().match(/^function (\w*)\(/);if(hope&&hope[1]){return hope[1];}if(callee.toString().search(/^function ?\(/)!=-1){return"[anonymous function]";}return false;},getViewportSize:function(){return{"width":$(window).width(),"height":$(window).height()};},parseErrorStack:function(stack,errName){var isChrome=(stack.search(/\n +at/)!=-1);stack=stack.replace(/(\d+):\d+\)\n/g,"$1\n");var lines=stack.split(/\n(?: +at )?/);if(isChrome){lines.shift();}var ret=[];for(var i=0;i<lines.length;i++){var item={};if(isChrome){var funcname=lines[i].split(/ /).shift();}else{var funcname=lines[i].split(/\@/).shift();}var match=funcname.match(/\((.*)\)$/);if(match){item.args=match[1];funcname=funcname.substr(0,funcname.indexOf("("));}item.name=funcname;item.line=lines[i].split(/:/).pop();lines[i]=lines[i].replace(/:\d+$/,"");item.url=lines[i].split(/[\(@]/).pop();ret.push(item);}return ret;},stripTcm:function(str){return str.replace(/(^|\~)tcm:/g,"$1");},trackVS:function(options,callback){var stdOptions={"log":1,"pid":$("#shell").data("pid"),"pageUrl":window.location.href,"cb":new Date().valueOf()};var asyncMode=true;var trackInfo=stdOptions;$.extend(trackInfo,options);$.each(trackInfo,function(idx,val){if(typeof val=="string"){trackInfo[idx]=WF.Utils.stripTcm(val);}});if(trackInfo.suppressAsync){asyncMode=false;}delete trackInfo.suppressAsync;$.ajax({url:"/assets/images/global/s.gif",type:"GET",async:asyncMode,data:trackInfo,success:function(){if(callback!=null){callback();}}});}};WF.OnLoads={doAll:function(root){if(typeof root=="undefined"){root=$("body");}$.each(WF.OnLoads,function(name,code){if(name!="doAll"&&typeof WF.OnLoads[name]=="function"){try{WF.OnLoads[name](root);}catch(e){WF.Utils.ajaxLog(e);}}});}};$(document).ready(function(){WF.Browser.supports=WF.Utils.getBrowserSupport();WF.OnLoads.doAll();});WF.Page={"lang":$("html").attr("lang")||"en","Components":{getByType:function(type){switch(type){case"c29":case"BalloonHelp":return this.BalloonHelps;break;case"CTA":return this.CTAs;break;case"c58":case"FAQ":return this.FAQs;break;case"c28a":case"LightBox":return this.LightBoxes;break;case"c28b":case"Overlay":return this.Overlays;break;case"c16":case"ShowHide":return this.ShowHides;break;case"c26":case"Tip":return this.Tips;break;default:return[];}},"BalloonHelps":[],"Carousels":[],"CTAs":[],"FAQs":[],"FatNav":false,"LightBoxes":[],"Overlays":[],"RibbonCarousels":[],"ShowHides":[],"Tips":[]}};WF.Component.BalloonHelp=function(trigger,options){if(!$(trigger).data("contentId")){WF.Utils.ajaxLog({"message":'A Balloon Help link (CSS class c29link) must have a data-content-id attribute, but "'+$(trigger).text()+"\" doesn't!"});return false;}this.elem=trigger;if(!trigger.id){trigger.id=WF.Utils.generateUniqueId(trigger);}this.id="BalloonHelp_"+trigger.id;var self=this;var link_id=trigger.id,content_id,content_div,mouseoutDelay=300,suppressNext=false;var stdOptions={"offsetX":-10,"offsetY":8,"popupSpeed":500,"paddingTop":20,"paddingBottom":20,"marginBottom":10};if($(trigger).data("contentId")){content_id=$(trigger).data("contentId");content_div=$('.c29content[data-content-id="'+content_id+'"]:first');}else{if(trigger.id&&trigger.id.search(/link/)!=-1){content_id=link_id.replace(/link/,"content");content_div=$("#"+content_id);}else{WF.Utils.ajaxLog({"message":"Can't find Balloon Help content identifier for link with text \""+$(trigger).text()+'"!'});return false;}}if(!options){options={};}for(var o in stdOptions){if(typeof options[o]=="undefined"){options[o]=stdOptions[o];}}trigger=$(trigger);var clist=trigger.data("cid")+"~"+trigger.data("ctid");if(content_div.length!=1){WF.Utils.ajaxLog({"message":"Can't find Balloon Help content div #"+content_id+" to match link #"+link_id+"!"});return false;}if($.trim(trigger.text()).length<1&&trigger.html().search(/<img /)!=-1){trigger.addClass("imgOnly");}if(content_div.attr("role")!="complementary"){content_div.prepend($('<span class="c29close"><a href="#"><img src="'+assetsBasePath+'/assets/images/global/btn-close-x.png" alt="'+WF.Strings.Shared.close[WF.Page.lang]+'"/></a></span>')).find(".c29close a").bind("click keypress",function(evt){self.hide(evt);
evt.preventDefault();});content_div.append($('<span class="c29hook"></span>'));content_div.prepend($('<span class="hide c29begin">'+WF.Strings.Components.BalloonHelp.beginningOfPopup[WF.Page.lang]+"</span>"));content_div.append($('<span class="hide">'+WF.Strings.Components.BalloonHelp.endOfPopup[WF.Page.lang]+"</span>"));content_div.attr({"role":"dialog"});}this.getQuadrant=function(pos,size){var scroll={"top":$(window).scrollTop(),"left":$(window).scrollLeft()};var bounds=WF.Utils.getViewportSize();var vert="b",horz="l";if((pos.top-scroll.top)<bounds.height/2){vert="t";}if((pos.left-scroll.left)>bounds.width/2){horz="r";}return vert+horz;};this.hide=function(evt,speed){if(typeof evt!="undefined"){if(evt.type=="keypress"&&evt.keyCode!=13&&evt.keyCode!=27){return;}evt.preventDefault();}if(typeof speed=="undefined"){speed=options.popupSpeed;}content_div.data("stayOpen","false");trigger.removeClass("hover");content_div.fadeOut(speed,function(){$(this).attr("aria-hidden","true").removeAttr("tabindex");$(this).find("span.c29close a").removeAttr("tabindex");if(typeof evt!="undefined"&&(evt.type=="keypress"||evt.type=="click")){suppressNext=true;trigger.focus();}});};this.maybeHide=function(evt){if(content_div.data("stayOpen")=="true"||trigger.data("active")=="true"){return;}self.hide(evt);};this.setPosition=function(){var trigger_pos=trigger.offset();var trigger_size=WF.Utils.getDimensions(trigger);var dir=self.getQuadrant(trigger_pos);switch(dir){case"tl":content_div.css({"top":(trigger_pos.top+trigger_size.height+options.marginBottom+options.offsetY)+"px","left":(trigger_pos.left+options.offsetX)+"px"});break;case"tr":content_div.css({"top":(trigger_pos.top+trigger_size.height+options.marginBottom+options.offsetY)+"px","right":($("body").width()-(trigger_pos.left+trigger_size.width)+options.offsetX)+"px"});break;case"bl":content_div.css({"top":(trigger_pos.top-content_div.height()-options.offsetY-options.paddingBottom-options.paddingTop-options.marginBottom)+"px","left":(trigger_pos.left+options.offsetX)+"px"});break;case"br":content_div.css({"top":(trigger_pos.top-content_div.height()-options.offsetY-options.paddingBottom-options.paddingTop-options.marginBottom)+"px","right":($("body").width()-(trigger_pos.left+trigger_size.width)+options.offsetX)+"px"});break;}content_div.removeClass("tl").removeClass("tr").removeClass("bl").removeClass("br").addClass(dir);};this.show=function(evt){if((evt.type=="keyup"&&evt.keyCode!=13)||evt.type=="focus"){return;}if(content_div.is(":visible")){content_div.find(".c29begin.hide").focus();return;}evt.preventDefault();self.setPosition();trigger.addClass("hover");content_div.fadeIn(options.popupSpeed,function(){$(this).removeAttr("aria-hidden").attr("tabindex",-1);if(evt.type!="mouseover"){$(this).find("span.c29close a").attr("tabindex",0).focus();}});};trigger.bind("click",function(evt){evt.preventDefault();$(".c29content").data("stayOpen","false");content_div.data("stayOpen","true");$.each(WF.Page.Components.BalloonHelps,function(i,bh){if(bh.id!=self.id){bh.maybeHide();}});self.show(evt);WF.Utils.trackVS({"event":"LinkActivated","eventType":"click","eventDescription":"DisplayBalloonHelp","clist":clist});});trigger.bind("keypress",function(evt){if(evt.keyCode!=13){return;}evt.preventDefault();$(this).keyup();});trigger.bind("keyup",function(evt){if(evt.keyCode!=13){return;}evt.preventDefault();$(".c29content").data("stayOpen","false");content_div.data("stayOpen","true");$.each(WF.Page.Components.BalloonHelps,function(i,bh){if(bh.id!=self.id){bh.maybeHide();}});self.show(evt);WF.Utils.trackVS({"event":"LinkActivated","eventType":"keypress","eventDescription":"DisplayBalloonHelp","clist":clist});});trigger.bind("mouseover",function(evt){trigger.data("active","true").addClass("hover");if(suppressNext){suppressNext=false;return;}if($(".c29content:visible").length){return;}self.show(evt);});trigger.bind("mouseout blur",function(evt){trigger.data("active","false");if(content_div.is(":focus")){trigger.removeClass("hover");}setTimeout(function(ev){self.maybeHide(ev);},mouseoutDelay);});content_div.bind("focus mouseover",function(evt){trigger.data("active","true").addClass("hover");self.show(evt);});content_div.bind("mouseout blur",function(evt){trigger.data("active","false").removeClass("hover");setTimeout(function(ev){self.maybeHide(ev);},mouseoutDelay);});content_div.bind("keypress",function(evt){if(evt.keyCode==27){self.hide(evt);}});trigger.attr("aria-haspopup","true");WF.Page.Components.BalloonHelps.push(this);return this;};WF.OnLoads.setupBalloonHelps=function(root){if(typeof root=="undefined"){root=$("body");}$(root).find(".c29link").each(function(){new WF.Component.BalloonHelp(this);});};