'use strict';var ATADUN_PATH="/auth/static/prefs/atadun.js",isNative=isNative||!1,loginUrlBase=null,scriptParent=null,getUrl=window.location,upjsErrors=[],isEncoded=!1,loginSignonBtn="",collectDeviceInfoConfig=!0,ndsPmdInput="",loginForm="",collectorSessionTokenTimer=void 0,submitted=!1,iframeCreated=void 0,iframeLoadDelayed=void 0;
function disableSubmitsCollectUserPrefs(a){for(var b=0;b<a.elements.length;b++)if(null!=a.elements[b].type){var c=a.elements[b].name.toLowerCase();if("submit"==a.elements[b].type||"button"==a.elements[b].type&&-1!=c.indexOf("submit"))a.elements[b].disabled=!0}return addLoginFormFieldsAndSubmit(a)}
function base64EncodingforNDSPMD(a){if(!(loginSignonBtn&&loginSignonBtn.disabled||isEncoded)&&a&&a.elements["nds-pmd"]){var b=a.elements["nds-pmd"].value;""!==b&&(b=btoa(unescape(encodeURIComponent(b))),a.elements["nds-pmd"].value=b,isEncoded=!0)}}function addExceptionsToForm(a){if(0<upjsErrors.length){var b=document.createElement("input");b.type="hidden";b.name="jsError";for(var c=upjsErrors[0],d=1;d<upjsErrors.length;d++)c=c+","+upjsErrors[d];b.value=c;a.appendChild(b)}}
function addLoginFormFieldsAndSubmit(a){try{base64EncodingforNDSPMD(a)}catch(b){console.error(b),upjsErrors.push("submitUserPrefs")}finally{return jsEnabled(a),addExceptionsToForm(a),!0}}function jsEnabled(a){a&&null!=a&&(a.jsenabled.value="true");document.cookie="https:"!=window.location.protocol?"CookiesAreEnabled\x3dyes; path\x3d/; domain\x3d.wellsfargo.com":"CookiesAreEnabled\x3dyes; path\x3d/; domain\x3d.wellsfargo.com; Secure"}
function addEvent(a,b,c){return a.addEventListener?(a.addEventListener(b,c,!1),!0):a.attachEvent?a.attachEvent("on"+b,c):!1}function undoSaveUsername(a){"checked"!=a.checked&&1!=a.checked&&(document.getElementById("j_username").value="");return!0}function maskedUsernameChanged(a){if(a=document.getElementById("saveUsernameCheckbox"))a.checked=!1;if(a=document.getElementById("saveUsername"))a.value=!1}
function addScriptElement(a,b){var c=document.createElement("script");c.type="text/javascript";c.id=a;c.src=b;c.rel="preload";scriptParent.appendChild(c);return c}function getCookie(a){a+="\x3d";for(var b=decodeURIComponent(document.cookie).split(";"),c=0;c<b.length;c++){for(var d=b[c];" "==d.charAt(0);)d=d.substring(1);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return""}
function appendHiddenInput(a){var b=document.createElement("input");b.type="hidden";b.name="c"+a.name;b.id="c"+a.name;b.value=a.value;document.querySelector('form[action*\x3d"auth/login/do"]')&&document.querySelector('form[action*\x3d"auth/login/do"]').appendChild(b)}function addCookiesToForm(a){a.forEach(function(b){appendHiddenInput({name:b,value:getCookie(b)})})}
function setWFACookies(){if(document.currentScript){var a=document.currentScript.src;scriptParent=document.currentScript.parentElement}else{if(document.scripts)var b=document.scripts.length-1;else document.getElementsByTagName("script"),b=document.scripts.length-1;for(;0<=b;b--)if(document.scripts[b].src&&-1!=document.scripts[b].src.indexOf("/login-userprefs.")){a=document.scripts[b].src;scriptParent=document.scripts[b].parentElement;break}}b=document.createElement("a");b.href=a;""==b.host&&(b.href=
b.href);loginUrlBase=b.protocol+"//"+b.hostname+(""!=b.port?":"+b.port:"");null==document.getElementById("ndscript1")&&addScriptElement("ndscript1",loginUrlBase+ATADUN_PATH)}function addChallengeFormField(a){if(null===document.getElementById("akst")){const b=document.createElement("input");b.setAttribute("type","hidden");b.setAttribute("id","akst");b.setAttribute("name","akst");b.setAttribute("value",a);loginForm.appendChild(b)}}
window.addEventListener("message",function(a){if("https://iframe.arkoselabs.com"===a.origin&&a.data&&"object"!==typeof a.data&&a.data)switch(a=JSON.parse(a.data),a.eventId){case "challenge-loaded":document.getElementById("challengeFrame").style.height=a.payload.frameHeight;document.getElementById("challengeFrame").style.width=a.payload.frameWidth;break;case "challenge-complete":a.payload&&a.payload.sessionToken&&(a=a.payload.sessionToken,addChallengeFormField(a))}});
function openChallengeIframe(){var a=window.location,b="",c=a.origin.includes("wellsfargoadvisors");b=a.origin.includes("evetest.wellsfargo.com");b=""!==a.port&&"443"!==a.port||b?"3C5073B0-3106-423D-8D6B-81FE82CF5C2C":"9B8ED233-984B-4DE5-A7B6-3A370D9FF48B";a=document.getElementById("challengeFrame");b={publicKey:b,eventId:"challenge-open"};c||(collectorSessionTokenTimer=!1,setTimeout(()=>{collectorSessionTokenTimer=!0},1500));a&&a.contentWindow.postMessage(JSON.stringify(b),"*")}
function loadChallengeDetectScript(){var a=location.origin.includes("evetest.wellsfargo.com");a=`https://iframe.arkoselabs.com/${""!==location.port&&"443"!==location.port||a?"3C5073B0-3106-423D-8D6B-81FE82CF5C2C":"9B8ED233-984B-4DE5-A7B6-3A370D9FF48B"}/lightbox.html`;var b=document.head,c=document.createElement("style");c.setAttribute("type","text/css");var d=document.createElement("iframe");d.setAttribute("src",a);d.setAttribute("type","data:text/html;charset\x3dutf-8");d.setAttribute("id","challengeFrame");
document.body.appendChild(d);iframeCreated=!0;c.styleSheet?c.styleSheet.cssText="#challengeFrame {width: 0px; height: 0px; display:none; border: none;}":c.appendChild(document.createTextNode("#challengeFrame {width: 0px; height: 0px; display:none; border: none;}"));b.appendChild(c)}
function handlePassword(){var a=document.getElementById("j_username")||document.getElementsByName("j_username")[0],b=document.getElementById("akst"),c=document.getElementById("challengeFrame");(a=a&&(a.value&&0<a.value.length||a.getAttribute("placeholder")&&0<a.getAttribute("placeholder").length||a.nextSibling&&a.nextSibling.textContent&&0<a.nextSibling.textContent.length))&&null===c&&!0!==iframeCreated?setTimeout(()=>{iframeLoadDelayed=!0;handlePassword()},100):a&&null===b&&null!==c&&!0===iframeCreated&&
openChallengeIframe()}function handleUsername(){var a=document.getElementById("j_password")||document.getElementsByName("j_password")[0],b=document.getElementById("akst"),c=document.getElementById("challengeFrame");(a=a&&a.value&&0<a.value.length)&&null===c&&!0!==iframeCreated?setTimeout(()=>{iframeLoadDelayed=!0;handleUsername()},100):a&&null===b&&null!==c&&!0===iframeCreated&&openChallengeIframe()}
function handleSubmitClick(a){if(!submitted){var b=document.getElementById("akst");if(null!==document.getElementById("challengeFrame")){if(""===b||null===b||void 0===b){if(!1===collectorSessionTokenTimer)return setTimeout(()=>{handleSubmitClick(a)},100),a.preventDefault(),!1;!0===collectorSessionTokenTimer&&(b=document.createElement("input"),b.setAttribute("type","hidden"),b.setAttribute("id","akTimerElapsed"),b.setAttribute("name","akTimerElapsed"),b.setAttribute("value",!0),loginForm.appendChild(b))}iframeLoadDelayed&&
(b=document.createElement("input"),b.setAttribute("type","hidden"),b.setAttribute("id","akdelayed"),b.setAttribute("name","akdelayed"),b.setAttribute("value",!0),loginForm.appendChild(b))}else b=document.createElement("input"),b.setAttribute("type","hidden"),b.setAttribute("id","akNotCreated"),b.setAttribute("name","akNotCreated"),b.setAttribute("value",!0),loginForm.appendChild(b);ndsPmdInput&&base64EncodingforNDSPMD(loginForm);submitted=!0;loginForm.submit()}}
try{collectDeviceInfoConfig&&loadChallengeDetectScript();var formCheckTimer=setInterval(b,500),ndsPMDTimer=setInterval(a,500);function a(){(ndsPmdInput=document.getElementsByName("nds-pmd")[0])&&clearInterval(ndsPMDTimer)}function b(){var c=document.getElementById("j_password")||document.getElementsByName("j_password")[0],d=document.getElementById("j_username")||document.getElementsByName("j_username")[0],e=document.getElementById("signonButton");if(c){clearInterval(formCheckTimer);loginForm=c.form;
if(e)e.addEventListener("click",handleSubmitClick);else for(e=0;e<loginForm.elements.length;e++)if(null!==loginForm.elements[e].type)if("submit"===loginForm.elements[e].type||"button"===loginForm.elements[e].type){var f=loginForm.elements[e].innerHTML.toLowerCase(),g=loginForm.elements[e].value.toLowerCase();if(1===loginForm.elements[e].children.length)var h=loginForm.elements[e].childNodes[1]&&loginForm.elements[e].childNodes[1].innerHTML.toLowerCase();if("inicie sesión"===g||"inicie sesión"===f||
"inicie sesión"===h||"sign on"===g||"sign on"===f||"sign on"===h)loginSignonBtn=loginForm.elements[e],loginSignonBtn.addEventListener("click",handleSubmitClick)}else"j_username"!==loginForm.elements[e].name&&"j_password"!==loginForm.elements[e].name||loginForm.elements[e].addEventListener("keypress",function(k){"Enter"===k.key&&handleSubmitClick(k)});d.addEventListener("focus",handleUsername);c.addEventListener("focus",handlePassword);c.addEventListener("change",handlePassword);d.addEventListener("change",
handleUsername)}}}catch(a){console.log(a),upjsErrors.push("challenge detection error")}finally{var formField=document.getElementById("j_username")||document.getElementsByName("j_username")[0];if(formField){var formObj=formField.form;addExceptionsToForm(formObj)}else console.log("form not found")}try{window.isNative||setWFACookies()}catch(a){console.error(a),upjsErrors.push("jenny")};